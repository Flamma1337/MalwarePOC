#include <Windows.h>

#pragma comment(lib, "user32.lib")

void someFunction(){
	DWORD64 dwpeb = __readgsqword(0x60);
    *((PBYTE)(dwpeb + 2)) = 0;
    MessageBoxA(NULL, "DLL INJECTED", "1337", MB_OK);
}

BOOL WINAPI DllMain(HINSTANCE hinstDLL, DWORD fdwReason, LPVOID lpvReserved){
	switch( fdwReason ) { 
        case DLL_PROCESS_ATTACH:
        	someFunction();
            break;

        case DLL_THREAD_ATTACH:
            break;

        case DLL_THREAD_DETACH:
            break;

        case DLL_PROCESS_DETACH:
        
            if (lpvReserved != nullptr){
                break;
            }
            break;
    }
    return TRUE;
}
